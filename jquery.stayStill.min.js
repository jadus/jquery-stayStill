!function(t,e,l,i){"use strict";function n(e,l){this.container=t(e),this.settings=t.extend({},a,l),this.stayStillElementSelector=".stay-still",this.stayStillElement=null,this.stayStillElementModify=null}var a={fixedHeaderSelector:"",fixedFooterSelector:""};t.extend(n.prototype,{saveState:function(){var i=this,n=null,a=t(e).scrollTop(),s=a+t(i.settings.fixedHeaderSelector).outerHeight(),o=a+l.documentElement.clientHeight-t(i.settings.fixedFooterSelector).outerHeight(),r=(s+o)/2;i.stayStillElement=null,i.stayStillElementModify=null,i.container.find(i.stayStillElementSelector).filter(":visible").each(function(){var e=t(this),l=e.offset().top,c=e.outerHeight(),h=l+c;if(o>l&&h>s){var u=Math.max(l,s),y=Math.min(h,o),f=Math.min(Math.abs(u-r),Math.abs(y-r));(null===n||n>f)&&(n=f,i.stayStillElement=t(this),i.stayStillElementModify=l-a)}})},resetState:function(){var i=this;if(i.stayStillElement){var n=l.documentElement.scrollHeight-l.documentElement.clientHeight,a=Math.round(i.stayStillElement.offset().top)-Math.round(i.stayStillElementModify),a=Math.min(a,n),a=Math.max(a,0);t(e).scrollTop(a),i.stayStillElement=null,i.stayStillElementModify=null}}}),t.fn.stayStill=function(e){var l=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),a=i.data("stayStill");a||(a=new n(this,l),i.data("stayStill",a)),"string"==typeof e&&a[e].apply(a,l)})}}(jQuery,window,document);
